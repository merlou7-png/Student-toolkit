<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–ú–µ–Ω—é —Å—Ç–æ–ª–æ–≤–æ–π</title>
<style>
    body {
        font-family: Arial, sans-serif;
        max-width: 900px;
        margin: 20px auto;
        background: #c7b8d8;
    }
    h1 {
        text-align: center;
    }
    .form-group {
        margin-bottom: 10px;
    }
    input, select, button {
        padding: 8px;
        margin-right: 5px;
    }
    button {
        cursor: pointer;
    }
    table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
        background: rgb(255, 255, 255);
    }
    th, td {
        border: 1px solid #ddd;
        padding: 8px;
        text-align: center;
    }
    th {
        background-color: #333333;
        color: white;
    }
    .actions button {
        margin: 0 3px;
    }
</style>
</head>
<body>
<h1>–ú–µ–Ω—é —Å—Ç–æ–ª–æ–≤–æ–π</h1>
<div>
    <div class="form-group">
        <input type="text" id="name" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –±–ª—é–¥–∞">
        <input type="number" id="price" placeholder="–¶–µ–Ω–∞">
        <input type="number" id="calories" placeholder="–ö–∞–ª–æ—Ä–∏–∏">
        <select id="category">
            <option value="–ü–µ—Ä–≤–æ–µ">–ü–µ—Ä–≤–æ–µ</option>
            <option value="–í—Ç–æ—Ä–æ–µ">–í—Ç–æ—Ä–æ–µ</option>
            <option value="–ù–∞–ø–∏—Ç–æ–∫">–ù–∞–ø–∏—Ç–æ–∫</option>
            <option value="–î–µ—Å–µ—Ä—Ç">–î–µ—Å–µ—Ä—Ç</option>
        </select>
        <button onclick="addOrUpdateItem()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
    </div>

    <div class="form-group">
        <input type="text" id="search" placeholder="–ü–æ–∏—Å–∫..." oninput="render()">
        <select id="filter" onchange="render()">
            <option value="">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>
            <option value="–ü–µ—Ä–≤–æ–µ">–ü–µ—Ä–≤–æ–µ</option>
            <option value="–í—Ç–æ—Ä–æ–µ">–í—Ç–æ—Ä–æ–µ</option>
            <option value="–ù–∞–ø–∏—Ç–æ–∫">–ù–∞–ø–∏—Ç–æ–∫</option>
            <option value="–î–µ—Å–µ—Ä—Ç">–î–µ—Å–µ—Ä—Ç</option>
        </select>
    </div>
</div>

<table>
    <thead>
        <tr>
            <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
            <th>–¶–µ–Ω–∞</th>
            <th>–ö–∞–ª–æ—Ä–∏–∏</th>
            <th>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th>
            <th>–î–µ–π—Å—Ç–≤–∏—è</th>
        </tr>
    </thead>
    <tbody id="menuTable"></tbody>
</table>
<script>
let menu = JSON.parse(localStorage.getItem("menu")) || [];
let editIndex = null;
function saveToStorage() {
    localStorage.setItem("menu", JSON.stringify(menu));
}
function addOrUpdateItem() {
    const name = document.getElementById("name").value.trim();
    const price = document.getElementById("price").value;
    const calories = document.getElementById("calories").value;
    const category = document.getElementById("category").value;
    if (!name || !price || !calories) {
        alert("–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è!");
        return;
    }
    const item = { name, price, calories, category };
    if (editIndex === null) {
        menu.push(item);
    } else {
        menu[editIndex] = item;
        editIndex = null;
    }
    saveToStorage();
    clearForm();
    render();
}
function editItem(index) {
    const item = menu[index];
    document.getElementById("name").value = item.name;
    document.getElementById("price").value = item.price;
    document.getElementById("calories").value = item.calories;
    document.getElementById("category").value = item.category;
    editIndex = index;
}
function deleteItem(index) {
    if (confirm("–£–¥–∞–ª–∏—Ç—å –±–ª—é–¥–æ?")) {
        menu.splice(index, 1);
        saveToStorage();
        render();
    }
}
function clearForm() {
    document.getElementById("name").value = "";
    document.getElementById("price").value = "";
    document.getElementById("calories").value = "";
    editIndex = null;
}
function render() {
    const search = document.getElementById("search").value.toLowerCase();
    const filter = document.getElementById("filter").value;
    const table = document.getElementById("menuTable");
    table.innerHTML = "";
    menu.forEach((item, index) => {
        if (
            item.name.toLowerCase().includes(search) &&
            (filter === "" || item.category === filter)
        ) {
            const row = `
                <tr>
                    <td>${item.name}</td>
                    <td>${item.price} ‚ÇΩ</td>
                    <td>${item.calories} –∫–∫–∞–ª</td>
                    <td>${item.category}</td>
                    <td class="actions">
                        <button onclick="editItem(${index})">‚úè</button>
                        <button onclick="deleteItem(${index})">üóë</button>
                    </td>
                </tr>
            `;
            table.innerHTML += row;
        }
    });
}
render();
</script>
</body>
</html>