<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Объединенный динамический тест</title>
    <style>
        body { font-family: sans-serif; padding: 30px; background-color: #f9f9f9; line-height: 1.5; }
        .container { max-width: 600px; margin: 0 auto; }
        #test { margin-bottom: 20px; }
        .question-block { 
            background: white;
            margin-bottom: 20px; 
            padding: 15px; 
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            border: 1px solid transparent;
            transition: 0.3s;
        }
        .question-text { font-weight: bold; margin-bottom: 10px; display: block; font-size: 1.1em; }
        label { display: block; margin: 8px 0; cursor: pointer; padding: 8px; border-radius: 4px; border: 1px solid #eee; }
        label:hover { background-color: #f0f0f0; }
        .correct { background-color: #d4edda !important; color: #155724; border-color: #c3e6cb; }
        .incorrect { background-color: #f8d7da !important; color: #721c24; border-color: #f5c6cb; }
        .controls { text-align: center; }
        button { 
            padding: 12px 25px; 
            background-color: #007bff; 
            color: white; 
            border: none; 
            border-radius: 5px; 
            cursor: pointer; 
            font-size: 16px;
            transition: 0.3s;
        }
        button:hover { background-color: #0056b3; }
        #result { margin-top: 20px; font-weight: bold; font-size: 1.3em; text-align: center; color: #333; }
    </style>
</head>
<body>
<div class="container">
    <h2>Интеллектуальный тест</h2>
    <div id="test"></div>
    <div class="controls">
        <button id="checkButton">Проверить все ответы</button>
        <div id="result"></div>
    </div>
</div>
<script>
    const questions = [
        {
            text: 'Какой язык программирования мы сейчас изучаем?',
            right: 0,
            variants: ['JavaScript', 'PHP', 'Python']
        },
        {
            text: 'Что такое HTML?',
            right: 1,
            variants: ['Язык программирования', 'Язык разметки', 'База данных']
        },
        {
            text: 'Какой тег создает жирный текст?',
            right: 2,
            variants: ['<i>', '<u>', '<b>']
        }
    ];
    const testContainer = document.querySelector('#test');
    const resultDiv = document.querySelector('#result');
    const checkBtn = document.querySelector('#checkButton');
    questions.forEach((q, qIndex) => {
        const block = document.createElement('div');
        block.className = 'question-block';
        const p = document.createElement('span');
        p.className = 'question-text';
        p.innerHTML = `${qIndex + 1}. ${q.text}`;
        block.appendChild(p);
        q.variants.forEach((variant, vIndex) => {
            const label = document.createElement('label');
            const radio = document.createElement('input');
            radio.type = 'radio';
            radio.name = 'q' + qIndex;
            radio.dataset.vIndex = vIndex;
            label.appendChild(radio);
            label.append(' ' + variant);
            block.appendChild(label);
        });
        testContainer.appendChild(block);
    });
    testContainer.addEventListener('change', function(event) {
        if (event.target.type === 'radio') {
            const block = event.target.closest('.question-block');
            const qIndex = Array.from(testContainer.children).indexOf(block);
            const labels = block.querySelectorAll('label');
            const selectedVIndex = Number(event.target.dataset.vIndex);
            labels.forEach(l => l.className = '');
            if (selectedVIndex === questions[qIndex].right) {
                event.target.parentElement.classList.add('correct');
            } else {
                event.target.parentElement.classList.add('incorrect');
            }
        }
    });
    checkBtn.addEventListener('click', function() {
        let score = 0;
        const blocks = document.querySelectorAll('.question-block');
        blocks.forEach((block, qIndex) => {
            const checkedRadio = block.querySelector('input[type="radio"]:checked');
            if (checkedRadio) {
                const userAnswerIndex = Number(checkedRadio.dataset.vIndex);
                if (userAnswerIndex === questions[qIndex].right) {
                    score++;
                }
            }
        });
        resultDiv.textContent = `Ваш общий результат: ${score} из ${questions.length}`;
    });
</script>
</body>
</html>